{{define "content"}}
<div class="card">
    <h2>Secure Your Account</h2>
    <p>Multi-Factor Authentication (MFA) adds an extra layer of security to your account.</p>

    <div style="display: flex; gap: 2rem; margin-top: 2rem; align-items: flex-start;">
        <div style="flex: 1;">
            <h3>1. Scan this QR Code</h3>
            <div style="background: white; padding: 1rem; border-radius: 8px; display: inline-block;">
                <!-- We'll use a public QR code generator API for MVP since we can't generate images easily in Go without more deps -->
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data={{.URI}}" alt="QR Code"
                    style="display: block;">
            </div>
            <p style="margin-top: 1rem; font-size: 0.9rem;">
                Or enter this code manually: <br>
                <code
                    style="background: var(--bg); padding: 0.2rem 0.5rem; border-radius: 4px; font-weight: bold; color: var(--primary);">{{.Secret}}</code>
            </p>
        </div>

        <div style="flex: 1; border-left: 1px solid var(--border); padding-left: 2rem;">
            <h3>2. Verify & Enable</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem;">Enter the code from your app to confirm setup.</p>
            <form action="/mfa/setup" method="POST">
                <input type="hidden" name="secret" value="{{.Secret}}">
                <label for="code">MFA Code</label>
                <input type="text" id="code" name="code" placeholder="000000" maxlength="6" pattern="\d{6}" required>

                <button type="submit" style="margin-top: 1rem;">Enable MFA</button>
            </form>
        </div>
    </div>
</div>
{{end}}